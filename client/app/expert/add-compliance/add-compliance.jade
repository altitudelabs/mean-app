.modal-header
  h3 New Project Compliance
.modal-body
  div
    .col-md-6
      .form-group
        label Reference #
        input.form-control(type='text', name='referenceId', placeholder='This should be autogenerated later!', ng-model='newCompliance.referenceId')
    .col-md-6
      .form-group
        label Related Project
        ui-select(ng-model='newCompliance.project' theme='bootstrap')
          ui-select-match(placeholder="Project") {{$select.selected.name}}
          ui-select-choices(repeat="project in projectList")
            div(ng-bind-html='project.name')
    .col-md-12
      .form-group
        label Notes
        textarea.form-control(type='text', name='notes' placeholder='Notes' rows='1' ng-model='newCompliance.notes')
    .col-md-12
      table.table.table-fixed-width.table-compliance
        tbody
          tr
            td
              span.lynk-circle-checkbox(ng-class='{"active": newCompliance.tncSignedDate}') 1
              | Signed TSN T&C
            td.btn-400
            td.btn-350
              div.btn-group-justified
                button.btn.btn-80(ng-class='{"btn-primary": newCompliance.tncSignedDate, "btn-white": newCompliance.tncSignedDate === undefined}' ng-click="signTNC()" type="button") Signed&nbsp;
                  input(type='checkbox' ng-checked='newCompliance.tncSignedDate')
                input.btn-150.btn-date.date-select(ng-model='newCompliance.tncSignedDate', type='date')
                span.dropdown(dropdown='', on-toggle='toggled(open)')
                  a.dropdown-toggle(href='', dropdown-toggle='')
                    button.btn.btn-light.btn-70(type='button')
                      span(ng-if="newCompliance.tncVersion === '0'") Long
                      span(ng-if="newCompliance.tncVersion === '1'") Short
                      i.lynk-align-top.fa.fa-sort-desc
                  ul.options-nav.dropdown-menu.dropdown-carat.dropdown-menu-right.dropdown-menu-thin.dropdown-menu-archived
                    li
                      a(ng-click="newCompliance.tncVersion ='0'") Long
                    li
                      a(ng-click="newCompliance.tncVersion ='1'") Short
          tr
            td
              span.lynk-circle-checkbox(ng-class='{"active": newCompliance.stage2.status === "approve" || newCompliance.stage2.status === "waive"}') 2
              | Conflict check by Client
            td.btn-400
            td.btn-350
              div.btn-group-justified.btn-300
                div.btn-group
                  button.btn(ng-class='{"btn-primary": newCompliance.stage2.status === "approve"}' ng-click='statusSelect(2, "approve")' type="button") Approve
                div.btn-group
                  button.btn(ng-class='{"btn-primary": newCompliance.stage2.status === "reject"}' ng-click='statusSelect(2, "reject")' type="button") Reject
                div.btn-group
                  button.btn(ng-class='{"btn-primary": newCompliance.stage2.status === "waive"}' ng-click='statusSelect(2, "waive")' type="button") Waive
          tr
            td
              span.lynk-circle-checkbox(ng-class='{"active": newCompliance.stage3.status === "approve" || newCompliance.stage3.status === "waive"}') 3
              | Additional terms by Expert
            td.btn-400
              div.col-md-12.editable-trigger
                h4.reference Reference No.:
                  a.icon-edit.lynk.lynk-edit(ng-click='editComplianceS3Id.$show()', ng-hide='editComplianceS3Id.$visible')
                div.referenceId
                  span(editable-textarea='newCompliance.stage3.referenceId', e-ng-keydown='textareaKeydown($event, $form)', e-form='editComplianceS3Id') {{newCompliance.stage3.referenceId || 'N/A'}}
              div.col-md-12.editable-trigger
                h4.reference Reference Date.:
                  a.icon-edit.lynk.lynk-edit(ng-click='editComplianceS3Date.$show()', ng-hide='editComplianceS3Date.$visible')
                div.referenceId
                  span(editable-date='newCompliance.stage3.referenceDate', e-ng-keydown='textareaKeydown($event, $form)', e-form='editComplianceS3Date') {{newCompliance.stage3.referenceDate || 'N/A' |  date: 'd MMM yyyy'}}
            td.btn-350
              div.btn-group-justified.btn-300
                div.btn-group
                  button.btn(ng-class='{"btn-primary": newCompliance.stage3.status === "approve"}' ng-click='statusSelect(3, "approve")' type="button") Approve
                div.btn-group
                  button.btn(ng-class='{"btn-primary": newCompliance.stage3.status === "reject"}' ng-click='statusSelect(3, "reject")' type="button") Reject
                div.btn-group
                  button.btn(ng-class='{"btn-primary": newCompliance.stage3.status === "waive"}' ng-click='statusSelect(3, "waive")' type="button") Waive
          tr
            td
              span.lynk-circle-checkbox(ng-class='{"active": newCompliance.stage4.status === "approve" || newCompliance.stage4.status === "waive"}') 4a
              | Questionnaire by expert
            td.btn-400
              div.col-md-12.editable-trigger
                h4.reference Reference No.:
                  a.icon-edit.lynk.lynk-edit(ng-click='editComplianceS4Id.$show()', ng-hide='editComplianceS4Id.$visible')
                div.referenceId
                  span(editable-textarea='newCompliance.stage4.referenceId', e-ng-keydown='textareaKeydown($event, $form)', e-form='editComplianceS4Id') {{newCompliance.stage4.referenceId || 'N/A'}}
              div.col-md-12.editable-trigger
                h4.reference Reference Date.:
                  a.icon-edit.lynk.lynk-edit(ng-click='editComplianceS4Date.$show()', ng-hide='editComplianceS4Date.$visible')
                div.referenceId
                  span(editable-date='newCompliance.stage4.referenceDate', e-ng-keydown='textareaKeydown($event, $form)', e-form='editComplianceS4Date') {{newCompliance.stage4.referenceDate || 'N/A' |  date: 'd MMM yyyy'}}
            td.btn-350
              div.btn-group-justified.btn-300
                div.btn-group
                  button.btn(ng-class='{"btn-primary": newCompliance.stage4.status === "approve"}' ng-click='statusSelect(4, "approve")' type="button") Approve
                div.btn-group
                  button.btn(ng-class='{"btn-primary": newCompliance.stage4.status === "reject"}' ng-click='statusSelect(4, "reject")' type="button") Reject
                div.btn-group
                  button.btn(ng-class='{"btn-primary": newCompliance.stage4.status === "waive"}' ng-click='statusSelect(4, "waive")' type="button") Waive
          tr
            td
              span.lynk-circle-checkbox(ng-class='{"active": newCompliance.stage5.status === "approve" || newCompliance.stage5.status === "waive"}') 4b
              | Red flag approval by Client
            td.btn-400
              div.col-md-12.editable-trigger
                h4.reference Reference No.:
                  a.icon-edit.lynk.lynk-edit(ng-click='editComplianceS5Id.$show()', ng-hide='editComplianceS5Id.$visible')
                div.referenceId
                  span(editable-textarea='newCompliance.stage5.referenceId', e-ng-keydown='textareaKeydown($event, $form)', e-form='editComplianceS5Id') {{newCompliance.stage5.referenceId || 'N/A'}}
              div.col-md-12.editable-trigger
                h4.reference Reference Date.:
                  a.icon-edit.lynk.lynk-edit(ng-click='editComplianceS5Date.$show()', ng-hide='editComplianceS5Date.$visible')
                div.referenceId
                  span(editable-date='newCompliance.stage5.referenceDate', e-ng-keydown='textareaKeydown($event, $form)', e-form='editComplianceS5Date') {{newCompliance.stage5.referenceDate || 'N/A' |  date: 'd MMM yyyy'}}
            td.btn-400
              div.btn-group-justified.btn-300
                div.btn-group
                  button.btn(ng-class='{"btn-primary": newCompliance.stage5.status === "approve"}' ng-click='statusSelect(5, "approve")' type="button") Approve
                div.btn-group
                  button.btn(ng-class='{"btn-primary": newCompliance.stage5.status === "reject"}' ng-click='statusSelect(5, "reject")' type="button") Reject
                div.btn-group
                  button.btn(ng-class='{"btn-primary": newCompliance.stage5.status === "waive"}' ng-click='statusSelect(5, "waive")' type="button") Waive
          tr
            td
              span.lynk-circle-checkbox(ng-class='{"active": newCompliance.stage6.status === "approve" || newCompliance.stage6.status === "waive"}') 5
              | Client specific reminder by TSN
            td.btn-400
              div.col-md-12.editable-trigger
                h4.reference Reference No.:
                  a.icon-edit.lynk.lynk-edit(ng-click='editComplianceS6Id.$show()', ng-hide='editComplianceS6Id.$visible')
                div.referenceId
                  span(editable-textarea='newCompliance.stage6.referenceId', e-ng-keydown='textareaKeydown($event, $form)', e-form='editComplianceS6Id') {{newCompliance.stage6.referenceId || 'N/A'}}
              div.col-md-12.editable-trigger
                h4.reference Reference Date.:
                  a.icon-edit.lynk.lynk-edit(ng-click='editComplianceS6Date.$show()', ng-hide='editComplianceS6Date.$visible')
                div.referenceId
                  span(editable-date='newCompliance.stage6.referenceDate', e-ng-keydown='textareaKeydown($event, $form)', e-form='editComplianceS6Date') {{newCompliance.stage6.referenceDate || 'N/A' |  date: 'd MMM yyyy'}}
            td.btn-400
              div.btn-group-justified.btn-300
                div.btn-group
                  button.btn(ng-class='{"btn-primary": newCompliance.stage6.status === "approve"}' ng-click='statusSelect(6, "approve")' type="button") Approve
                div.btn-group
                  button.btn(ng-class='{"btn-primary": newCompliance.stage6.status === "reject"}' ng-click='statusSelect(6, "reject")' type="button") Reject
                div.btn-group
                  button.btn(ng-class='{"btn-primary": newCompliance.stage6.status === "waive"}' ng-click='statusSelect(6, "waive")' type="button") Waive
          tr
            td
              span.lynk-circle-checkbox(ng-class='{"active": newCompliance.stage7.status === "approve" || newCompliance.stage7.status === "waive"}') 6
              | Final Approval by TSN
            td.btn-400
              div.col-md-12.editable-trigger
                h4.reference Reference No.:
                  a.icon-edit.lynk.lynk-edit(ng-click='editComplianceS7Id.$show()', ng-hide='editComplianceS7Id.$visible')
                div.referenceId
                  span(editable-textarea='newCompliance.stage7.referenceId', e-ng-keydown='textareaKeydown($event, $form)', e-form='editComplianceS7Id') {{newCompliance.stage7.referenceId || 'N/A'}}
              div.col-md-12.editable-trigger
                h4.reference Reference Date.:
                  a.icon-edit.lynk.lynk-edit(ng-click='editComplianceS7Date.$show()', ng-hide='editComplianceS7Date.$visible')
                div.referenceId
                  span(editable-date='newCompliance.stage7.referenceDate', e-ng-keydown='textareaKeydown($event, $form)', e-form='editComplianceS7Date') {{newCompliance.stage7.referenceDate || 'N/A' |  date: 'd MMM yyyy'}}
            td.btn-400
              div.btn-group-justified.btn-300
                div.btn-group
                  button.btn(ng-class='{"btn-primary": newCompliance.stage7.status === "approve"}' ng-click='statusSelect(7, "approve")' type="button") Approve
                div.btn-group
                  button.btn(ng-class='{"btn-primary": newCompliance.stage7.status === "reject"}' ng-click='statusSelect(7, "reject")' type="button") Reject
                div.btn-group
                  button.btn(ng-class='{"btn-primary": newCompliance.stage7.status === "waive"}' ng-click='statusSelect(7, "waive")' type="button") Waive
      .clearfix

    .modal-footer
      button.btn.btn-primary.pull-right(type='submit' ng-click="ok()") Done
      button.btn.btn-light.right-spacer.pull-right(type='button', ng-click='cancel()') Cancel
